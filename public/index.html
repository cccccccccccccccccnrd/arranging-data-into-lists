<!DOCTYPE html>
<html>
  <head>
    <title>v0</title>
    <style>
      * {
         box-sizing: border-box;
      }

      html, body {
        margin: 0;
        padding 0;
      }

      body {
        display: flex;
        background: black;
        color: white;
        font-size: 12px;
        margin: 0.666em;
      }

      img {
        max-width: 100%;
        width: 30vw;
      }

      p {
        margin: 0;
      }

      a {
        display: flex;
      }

      #v0 {
        display: grid;
        grid-template-columns: repeat(5, 1fr);
        gap: 0.666em;
      }

      .v {
        position: relative;
        display: flex;
        flex-flow: column;
      }

      .v p {
        margin: 0 0 0.333em 0;
      }
    </style>
  </head>
  <body>
    <div id="v0"></div>

    <script>
      async function init() {
        const response = await fetch('/yt/0')
        const videos = await response.json()
        console.log(videos)

        for await (const v of videos) {
          const videoContainer = document.createElement('div')
          videoContainer.classList.add('v')

          const title = document.createElement('p')
          title.textContent = `${v.title} (${v.duration})`
          videoContainer.appendChild(title)

          const thumbnailLink = document.createElement('a')
          thumbnailLink.href = v.url
          thumbnailLink.target = '_blank'

          const thumbnail = document.createElement('img')
          thumbnail.src = v.bestThumbnail.url
          thumbnail.alt = v.title

          thumbnailLink.appendChild(thumbnail)
          videoContainer.appendChild(thumbnailLink)

          document.getElementById('v0').appendChild(videoContainer)
        }
      }

      init()
    </script>
  </body>
</html>
